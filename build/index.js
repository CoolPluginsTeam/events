(()=>{"use strict";const e=window.React,t=window.wp.blocks,a=window.wp.blockEditor,n=window.wp.components,l=window.wp.i18n,o=window.wp.date,r=(0,e.createElement)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},(0,e.createElement)("path",{d:"M19,3H5C3.9,3,3,3.9,3,5v14c0,1.1,0.9,2,2,2h14c1.1,0,2-0.9,2-2V5C21,3.9,20.1,3,19,3z M19.5,19c0,0.3-0.2,0.5-0.5,0.5H5 c-0.3,0-0.5-0.2-0.5-0.5V7h15V19z M17,13h-4v4h4V13z"}));(0,t.registerBlockType)("evt/events-grid",{title:(0,l.__)("Events Grid","event"),description:(0,l.__)("Display multiple events in a modern grid layout","event"),icon:r,category:"widgets",supports:{align:["wide","full"],html:!1},attributes:{columns:{type:"number",default:3}},edit:({attributes:t,setAttributes:o})=>{const r=(0,a.useBlockProps)({className:"evt-events-grid-container"});return(0,e.createElement)(e.Fragment,null,(0,e.createElement)(a.InspectorControls,null,(0,e.createElement)(n.PanelBody,{title:(0,l.__)("Grid Settings","event")},(0,e.createElement)(n.TextControl,{label:(0,l.__)("Columns","event"),type:"number",value:t.columns,onChange:e=>o({columns:parseInt(e)}),min:1,max:4,help:(0,l.__)("Number of columns in the grid (1-4)","event"),__nextHasNoMarginBottom:!0,__next40pxDefaultSize:!0}))),(0,e.createElement)("div",{...r,style:{"--columns":t.columns}},(0,e.createElement)(a.InnerBlocks,{allowedBlocks:["evt/event-item"],template:[["evt/event-item",{eventTitle:"Crazy DJ Experience Santa Cruz",eventLocation:"JW Marriott, Sector 35",eventDate:"2024-06-06T16:00:00",eventPrice:"$25.00",eventDay:"FRI",eventImageURL:"https://images.unsplash.com/photo-1470229722913-7c0e2dbbafd3?w=800"}],["evt/event-item",{eventTitle:"Cute Girls Rock Band Performance",eventLocation:"Club XYZ, Sector 17",eventDate:"2024-10-02T18:30:00",eventPrice:"$20.00",eventDay:"THU",eventImageURL:"https://images.unsplash.com/photo-1511735111819-9a3f7709049c?w=800"}],["evt/event-item",{eventTitle:"Free Food Distribution At Mumbai",eventLocation:"Food Corp. Mumbai, Ft. Line",eventDate:"2024-11-03T19:00:00",eventPrice:"$15.00",eventDay:"MON",eventImageURL:"https://images.unsplash.com/photo-1555939594-58d7cb561ad1?w=800"}]],renderAppender:()=>(0,e.createElement)(a.InnerBlocks.ButtonBlockAppender,null)})))},save:({attributes:t})=>{const n=a.useBlockProps.save({className:"evt-events-grid-container",style:{"--columns":t.columns}});return(0,e.createElement)("div",{...n},(0,e.createElement)(a.InnerBlocks.Content,null))}}),(0,t.registerBlockType)("evt/event-item",{title:(0,l.__)("Event Item","event"),description:(0,l.__)("Single event card with image, date, and details","event"),icon:r,category:"widgets",parent:["evt/events-grid"],supports:{reusable:!1,html:!1},attributes:{eventTitle:{type:"string",default:""},eventLocation:{type:"string",default:""},eventDate:{type:"string",default:""},eventEndDate:{type:"string",default:""},eventPrice:{type:"string",default:""},eventDay:{type:"string",default:""},eventImageURL:{type:"string",default:""},eventImageID:{type:"number"},eventImageAlt:{type:"string",default:""},detailsBackgroundColor:{type:"string",default:"#ffffff"},borderBadgeColor:{type:"string",default:"#00000040"},dateBadgeBackgroundColor:{type:"string",default:"#2667FF"},dateBadgeTextColor:{type:"string",default:"#ffffff"},weekdayTextColor:{type:"string",default:"#000000"},detailsTextColor:{type:"string",default:"#1a1a1a"},readMoreURL:{type:"string",default:""},readMoreText:{type:"string",default:"Read More"},readMoreButtonColor:{type:"string",default:"#2667FF"},readMoreButtonTextColor:{type:"string",default:"#ffffff"},readMoreButtonHoverColor:{type:"string",default:"#2667FF"},readMoreButtonHoverTextColor:{type:"string",default:"#ffffff"}},edit:({attributes:t,setAttributes:r})=>{const{eventTitle:m,eventLocation:d,eventDate:i,eventEndDate:c,eventPrice:v,eventDay:s,eventImageURL:g,eventImageID:u,eventImageAlt:p,detailsBackgroundColor:f,borderBadgeColor:E,dateBadgeBackgroundColor:y,dateBadgeTextColor:C,detailsTextColor:h,weekdayTextColor:_,readMoreURL:x,readMoreText:b,readMoreButtonColor:B,readMoreButtonTextColor:T,readMoreButtonHoverColor:w,readMoreButtonHoverTextColor:N}=t,k=(0,a.useBlockProps)({className:"evt-event-item",style:{"--evt-details-bg":f||"#ffffff","--evt-border-color":E||"#00000040","--evt-date-badge-bg":y||"#2667FF","--evt-date-badge-text":C||"#ffffff","--evt-details-text":h||"#1a1a1a","--evt-weekday-text":_||"#000000","--evt-read-more-button-color":B||"#4169E1","--evt-read-more-button-text-color":T||"#ffffff","--evt-read-more-button-hover-color":w||"#2667FF","--evt-read-more-button-hover-text-color":N||"#ffffff"}}),I=(e=>{if(!e)return{month:"",day:"",time:"",dayName:""};try{return new Date(e),{month:(0,o.dateI18n)("M",e),day:(0,o.dateI18n)("d",e),time:(0,o.dateI18n)("g:i a",e),dayName:(0,o.dateI18n)("D",e).toUpperCase()}}catch(e){return{month:"",day:"",time:"",dayName:""}}})(i);return(0,e.createElement)(e.Fragment,null,(0,e.createElement)(a.InspectorControls,null,(0,e.createElement)(n.PanelBody,{title:(0,l.__)("Event Details","event")},(0,e.createElement)("div",{style:{marginBottom:"16px"}},(0,e.createElement)("label",{style:{display:"block",marginBottom:"8px",fontWeight:"600"}},(0,l.__)("Start Date & Time","event")),(0,e.createElement)(n.DateTimePicker,{currentDate:i||(new Date).toISOString(),onChange:e=>{r({eventDate:e});const t=(0,o.dateI18n)("D",e).toUpperCase();r({eventDay:t})}})),(0,e.createElement)("div",{style:{marginBottom:"16px"}},(0,e.createElement)("label",{style:{display:"block",marginBottom:"8px",fontWeight:"600"}},(0,l.__)("End Date & Time","event")),(0,e.createElement)(n.DateTimePicker,{currentDate:c||i||(new Date).toISOString(),onChange:e=>r({eventEndDate:e})})),(0,e.createElement)(n.TextControl,{label:(0,l.__)("Price","event"),value:v,onChange:e=>r({eventPrice:e}),placeholder:"$25.00",__nextHasNoMarginBottom:!0,__next40pxDefaultSize:!0}),(0,e.createElement)(n.TextControl,{label:(0,l.__)("Day Label","event"),value:s||I.dayName,onChange:e=>r({eventDay:e}),help:(0,l.__)("e.g., MON, TUE, FRI","event"),__nextHasNoMarginBottom:!0,__next40pxDefaultSize:!0})),(0,e.createElement)(n.PanelBody,{title:(0,l.__)("Color Settings","event"),initialOpen:!1},(0,e.createElement)(n.PanelRow,null,(0,e.createElement)("div",{style:{width:"100%"}},(0,e.createElement)("label",{style:{display:"block",marginBottom:"8px",fontWeight:"600"}},(0,l.__)("Container Background Color","event")),(0,e.createElement)(a.ColorPalette,{value:f,onChange:e=>r({detailsBackgroundColor:e||"#ffffff"})}))),(0,e.createElement)(n.PanelRow,null,(0,e.createElement)("div",{style:{width:"100%",marginTop:"16px"}},(0,e.createElement)("label",{style:{display:"block",marginBottom:"8px",fontWeight:"600"}},(0,l.__)("Date Border Color","event")),(0,e.createElement)(a.ColorPalette,{value:E,onChange:e=>r({borderBadgeColor:e||"#00000040"})}))),(0,e.createElement)(n.PanelRow,null,(0,e.createElement)("div",{style:{width:"100%",marginTop:"16px"}},(0,e.createElement)("label",{style:{display:"block",marginBottom:"8px",fontWeight:"600"}},(0,l.__)("Date Background Color","event")),(0,e.createElement)(a.ColorPalette,{value:y,onChange:e=>r({dateBadgeBackgroundColor:e||"#2667FF"})}))),(0,e.createElement)(n.PanelRow,null,(0,e.createElement)("div",{style:{width:"100%",marginTop:"16px"}},(0,e.createElement)("label",{style:{display:"block",marginBottom:"8px",fontWeight:"600"}},(0,l.__)("Date Text Color","event")),(0,e.createElement)(a.ColorPalette,{value:C,onChange:e=>r({dateBadgeTextColor:e||"#ffffff"})}))),(0,e.createElement)(n.PanelRow,null,(0,e.createElement)("div",{style:{width:"100%",marginTop:"16px"}},(0,e.createElement)("label",{style:{display:"block",marginBottom:"8px",fontWeight:"600"}},(0,l.__)("Weekday Text Color","event")),(0,e.createElement)(a.ColorPalette,{value:_,onChange:e=>r({weekdayTextColor:e||"#000000"})}))),(0,e.createElement)(n.PanelRow,null,(0,e.createElement)("div",{style:{width:"100%",marginTop:"16px"}},(0,e.createElement)("label",{style:{display:"block",marginBottom:"8px",fontWeight:"600"}},(0,l.__)("Details Text Color","event")),(0,e.createElement)(a.ColorPalette,{value:h,onChange:e=>r({detailsTextColor:e||"#1a1a1a"})}))),(0,e.createElement)(n.PanelRow,null,(0,e.createElement)("div",{style:{width:"100%",marginTop:"16px"}},(0,e.createElement)("label",{style:{display:"block",marginBottom:"8px",fontWeight:"600"}},(0,l.__)("Read More Button Color","event")),(0,e.createElement)(a.ColorPalette,{value:B,onChange:e=>r({readMoreButtonColor:e||"#4169E1"})}))),(0,e.createElement)(n.PanelRow,null,(0,e.createElement)("div",{style:{width:"100%",marginTop:"16px"}},(0,e.createElement)("label",{style:{display:"block",marginBottom:"8px",fontWeight:"600"}},(0,l.__)("Read More Button Text Color","event")),(0,e.createElement)(a.ColorPalette,{value:T,onChange:e=>r({readMoreButtonTextColor:e||"#ffffff"})}))),(0,e.createElement)(n.PanelRow,null,(0,e.createElement)("div",{style:{width:"100%",marginTop:"16px"}},(0,e.createElement)("label",{style:{display:"block",marginBottom:"8px",fontWeight:"600"}},(0,l.__)("Read More Button Hover Color","event")),(0,e.createElement)(a.ColorPalette,{value:w,onChange:e=>r({readMoreButtonHoverColor:e||"#2667FF"})}))),(0,e.createElement)(n.PanelRow,null,(0,e.createElement)("div",{style:{width:"100%",marginTop:"16px"}},(0,e.createElement)("label",{style:{display:"block",marginBottom:"8px",fontWeight:"600"}},(0,l.__)("Read More Button Hover Text Color","event")),(0,e.createElement)(a.ColorPalette,{value:N,onChange:e=>r({readMoreButtonHoverTextColor:e||"#ffffff"})})))),(m||d||x)&&(0,e.createElement)(n.PanelBody,{title:(0,l.__)("Read More Button","event"),initialOpen:!1},(0,e.createElement)(n.TextControl,{label:(0,l.__)("Button URL","event"),value:x,onChange:e=>r({readMoreURL:e}),placeholder:"https://example.com/event",help:(0,l.__)("Enter the URL for the Read More button","event")}),(0,e.createElement)(n.TextControl,{label:(0,l.__)("Button Text","event"),value:b,onChange:e=>r({readMoreText:e||"Read More"}),placeholder:"Read More",help:(0,l.__)("Customize the button text","event")})),(0,e.createElement)(n.PanelBody,{title:(0,l.__)("Image Settings","event"),initialOpen:!1},(0,e.createElement)(a.MediaUploadCheck,null,(0,e.createElement)(a.MediaUpload,{onSelect:e=>{r({eventImageURL:e.url,eventImageID:e.id,eventImageAlt:e.alt})},allowedTypes:["image"],value:u,render:({open:t})=>(0,e.createElement)(n.Button,{onClick:t,variant:"secondary",style:{marginBottom:"10px",width:"100%"}},g?(0,l.__)("Change Image","event"):(0,l.__)("Upload Image","event"))})),g&&(0,e.createElement)(n.Button,{onClick:()=>r({eventImageURL:"",eventImageID:null,eventImageAlt:""}),variant:"secondary",isDestructive:!0,style:{width:"100%"}},(0,l.__)("Remove Image","event")))),(0,e.createElement)("div",{...k},(0,e.createElement)("div",{className:"evt-event-card"},(0,e.createElement)("div",{className:"evt-event-image"},g?(0,e.createElement)("img",{src:g,alt:p||m}):(0,e.createElement)("div",{className:"evt-event-image-placeholder"},(0,e.createElement)(a.MediaUploadCheck,null,(0,e.createElement)(a.MediaUpload,{onSelect:e=>{r({eventImageURL:e.url,eventImageID:e.id,eventImageAlt:e.alt})},allowedTypes:["image"],value:u,render:({open:t})=>(0,e.createElement)(n.Button,{onClick:t,variant:"primary"},(0,l.__)("Add Image","event"))})))),(0,e.createElement)("div",{className:"evt-event-details"},(0,e.createElement)("div",{className:"evt-event-date-badge-container"},i&&(0,e.createElement)(e.Fragment,null,(0,e.createElement)("div",{className:"evt-border-badge"},(0,e.createElement)("div",{className:"evt-event-date-badge"},(0,e.createElement)("span",{className:"evt-date-day"},I.day),(0,e.createElement)("span",{className:"evt-date-month"},I.month))),(0,e.createElement)("span",{className:"evt-date-weekday"},s||I.dayName))),(0,e.createElement)("div",{className:"evt-event-details-inner"},i&&(0,e.createElement)("div",{className:"evt-event-time"},(0,e.createElement)("span",{className:"evt-time-icon"},"ğŸ•"),(0,e.createElement)("span",null,I.time,c&&` - ${(0,o.dateI18n)("g:i a",c)}`)),(0,e.createElement)(a.RichText,{tagName:"h4",className:"evt-event-title",value:m,onChange:e=>r({eventTitle:e}),placeholder:(0,l.__)("Event Title","event")}),(0,e.createElement)(a.RichText,{tagName:"div",className:"evt-event-location",value:d,onChange:e=>r({eventLocation:e}),placeholder:(0,l.__)("Event Location","event")}),(0,e.createElement)("div",{className:"evt-price-read-more"},v&&(0,e.createElement)("div",{className:"evt-event-price"},v),x&&(0,e.createElement)("div",{className:"evt-event-read-more"},(0,e.createElement)("a",{href:x,target:"_blank"},b||(0,l.__)("Read More","event")))))))))},save:({attributes:t})=>{const{eventTitle:n,eventLocation:r,eventDate:m,eventEndDate:d,eventPrice:i,eventDay:c,eventImageURL:v,eventImageAlt:s,detailsBackgroundColor:g,borderBadgeColor:u,dateBadgeBackgroundColor:p,dateBadgeTextColor:f,weekdayTextColor:E,detailsTextColor:y,readMoreURL:C,readMoreText:h,readMoreButtonColor:_,readMoreButtonTextColor:x,readMoreButtonHoverColor:b,readMoreButtonHoverTextColor:B}=t,T=a.useBlockProps.save({className:"evt-event-item",style:{"--evt-details-bg":g||"#ffffff","--evt-border-color":u||"#00000040","--evt-date-badge-bg":p||"#2667FF","--evt-date-badge-text":f||"#ffffff","--evt-details-text":y||"#1a1a1a","--evt-weekday-text":E||"#000000","--evt-read-more-button-color":_||"#4169E1","--evt-read-more-button-text-color":x||"#ffffff","--evt-read-more-button-hover-color":b||"#2667FF","--evt-read-more-button-hover-text-color":B||"#ffffff"}}),w=(e=>{if(!e)return{month:"",day:"",time:"",dayName:""};try{return{month:(0,o.dateI18n)("M",e),day:(0,o.dateI18n)("d",e),time:(0,o.dateI18n)("g:i a",e),dayName:(0,o.dateI18n)("D",e).toUpperCase()}}catch(e){return{month:"",day:"",time:"",dayName:""}}})(m),N=d?(0,o.dateI18n)("g:i a",d):"";return(0,e.createElement)("div",{...T},(0,e.createElement)("div",{className:"evt-event-card"},v&&(0,e.createElement)("div",{className:"evt-event-image"},(0,e.createElement)("img",{src:v,alt:s||n})),(0,e.createElement)("div",{className:"evt-event-details"},(0,e.createElement)("div",{className:"evt-event-date-badge-container"},m&&(0,e.createElement)(e.Fragment,null,(0,e.createElement)("div",{className:"evt-border-badge"},(0,e.createElement)("div",{className:"evt-event-date-badge"},(0,e.createElement)("span",{className:"evt-date-day"},w.day),(0,e.createElement)("span",{className:"evt-date-month"},w.month))),(0,e.createElement)("span",{className:"evt-date-weekday"},c||w.dayName))),(0,e.createElement)("div",{className:"evt-event-details-inner"},m&&(0,e.createElement)("div",{className:"evt-event-time"},(0,e.createElement)("span",{className:"evt-time-icon"},"ğŸ•"),(0,e.createElement)("span",null,w.time,N&&` - ${N}`)),n&&(0,e.createElement)(a.RichText.Content,{tagName:"h4",className:"evt-event-title",value:n}),r&&(0,e.createElement)(a.RichText.Content,{tagName:"div",className:"evt-event-location",value:r}),(0,e.createElement)("div",{className:"evt-price-read-more"},i&&(0,e.createElement)("div",{className:"evt-event-price"},i),C&&(0,e.createElement)("div",{className:"evt-event-read-more"},(0,e.createElement)("a",{href:C,target:"_blank"},h||(0,l.__)("Read More","event"))))))))}})})();